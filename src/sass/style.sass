@use 'colors' as *
@use 'global' as *
@use 'mixins' as *

.app
	display: grid
	height: 100vh
	grid-template-rows: 7.2rem 1fr
	background-color: var(--boardBg)

.header
	background-color: $header-bg
	@include flex(row, stretch, space-between, 1rem)
	z-index: 3

	&__container
		display: grid
		place-items: center
		aspect-ratio: 1/1
		user-select: none

		&--logo
			position: relative
			background-color: $purple
			border-radius: 0 2rem 2rem 0
			overflow: hidden
			cursor: pointer

			&:hover::after
				height: 80%

			&::after
				transition: height .3s
				position: absolute
				content: ''
				height: 50%
				width: 100%
				align-self: flex-end
				background-color: $lightPurple
				border-radius: 2rem 0 2rem 0

	&__logo
		z-index: 2

	&__theme
		color: #dfe3fa
		cursor: pointer

		&:hover
			color: $purple

.board
	@include flex(column, stretch, flex-start, 3.2rem)
	@include scrollBar(.8rem)
	position: relative
	padding: 3.2rem
	background-color: var(--boardBg)
	overflow-y: auto
	align-items: center

	>*
		width: min(100%, 73rem)

	&__head
		@include flex(row, center, flex-start, 2rem)

	&__titleContainer
		@include flex(column, flex-start, center, .8rem)
		flex-grow: 2

	&__title
		font-size: 2.8rem
		font-weight: 600

	&__filter
		@include flex(row, center, flex-start, 1rem)
		cursor: pointer

		&__text
			font-weight: 600

		&__icon
			font-size: 2.2rem
			font-weight: 700
			color: $purple
			position: absolute

	&__add
		@include flex(row, center, flex-start, 1rem)
		background-color: $purple
		border-radius: 100vmax
		padding: .6rem .8em .6rem .6rem
		cursor: pointer

		&:hover
			background-color: $lightPurple

		&__text
			font-weight: 600
			color: white

		&__icon
			color: $purple
			font-size: 1.8rem
			font-weight: 600
			position: absolute

	&__body
		@include flex(column, stretch, flex-start, 1.6rem)

	&__buttons
		@include flex(row, center, flex-end, 1rem)
		background-color: var(--cardBg)
		width: 100%
		padding: 1.8rem

		&__edit
			@include button(1.6rem, #252945)
			color: #fff

		&__delete
			@include button(1.6rem, #ec5757)
			color: #fff

		&__paid
			@include button(1.6rem, $purple)
			color: #fff

.card
	display: grid
	justify-content: space-between
	gap: 3.2rem 1.8rem
	border-radius: .5rem
	background-color: var(--cardBg)
	padding: 2.4rem 2.4rem 3.2rem
	box-shadow: 0 10px 10px -10px rgb(72 84 159 / 10%)
	border: 1px solid transparent
	transition: border-color .3s
	grid-template-areas: "id clientName" "container status"

	&:hover
		border-color: $purple

	&__clientName
		grid-area: clientName
		text-align: right

	&__container
		@include flex(column, flex-start, flex-start, 1.2rem)
		grid-area: container

	&__dueDate
		grid-area: dueDate

	&__price
		grid-area: price

	&__dueDate
		font-size: 1.4rem
		font-weight: 300

	&__price
		font-size: 2.2rem
		font-weight: 600

.id
	font-weight: 500
	grid-area: id

	&__hash
		color: $hash
		font-size: 1.4rem

.status
	@include flex(row, center, center, .8rem)
	grid-area: status
	border-radius: .6rem
	padding: .8em 1.6em
	font-weight: 600

	&__dot
		height: .8rem
		width: .8rem
		border-radius: 50%

.invoice
	@include flex(column, stretch, flex-start, 1.6rem)

	&__head, &__body
		background-color: var(--cardBg)
		box-shadow: 0 10px 10px -10px rgb(72 84 159 / 10%)
		border-radius: .5rem

	&__head
		@include flex(row, center, space-between, 3.2rem)
		padding: 3.2rem

	&__body
		@include flex(column, stretch, flex-start, 4rem)
		padding: 2.4rem

	&__clientInfo
		display: grid
		justify-content: flex-start
		grid-template-areas: "id ." "billFrom ." "dateCreated billTo" "dueDate billTo" "email email"
		gap: 3.2rem 4.4rem

	&__id
		@include flex(column, flex-start, flex-start, 1rem)
		grid-area: id

	&__description
		font-weight: 300

	&__billFrom
		@include flex(column, flex-start, flex-start, .8rem)
		grid-area: billFrom
		font-weight: 300

	&__dateCreated, &__dueDate, &__clientEmail
		@include flex(column, flex-start, flex-start, 1.6rem)
		font-weight: 600
		font-size: 2rem
		grid-area: dateCreated

		&__text
			font-size: 1.6rem
			font-weight: 300

	&__dueDate
		grid-area: dueDate

	&__billTo
		@include flex(column, flex-start, flex-start, .8rem)
		font-weight: 300
		grid-area: billTo

		&__clientName
			font-weight: 600
			font-size: 2rem
			margin: 1rem 0

	&__clientEmail
		grid-area: email

	&__buttons
		@include flex(row, center, flex-end, 1rem)
		flex-grow: 2

		&__edit
			@include button(1.6rem, #252945)
			color: #fff

		&__delete
			@include button(1.6rem, #ec5757)
			color: #fff

		&__paid
			@include button(1.6rem, $purple)
			color: #fff

.receipt
	background-color: var(--receipt)
	border-radius: .8rem

	&__itemList
		@include flex(column, stretch, flex-start, 2.8rem)
		padding: 2.6rem
		font-weight: 500

	&__grandTotal
		padding: 3.2rem 2.4rem
		background-color: var(--grandTotal)
		font-weight: 700
		font-size: 2.6rem
		border-radius: 0 0 .8rem .8rem
		color: #fff

	&__item, &__grandTotal
		@include flex(row, center, space-between, 1rem)

		&__info
			@include flex(column, flex-start, flex-start, 1.2rem)

		&__price
			font-weight: 600

		&__text
			font-size: 1.6rem
			font-weight: 300

.modal
	@include flex(column, stretch, flex-start, 4rem)
	@include scrollBar(.6rem)
	position: fixed
	top: 7.2rem
	left: -100%
	height: calc( 100% - 7.2rem )
	width: 100%
	padding: 3.2rem 2.4rem 9.6rem
	background-color: var(--boardBg)
	overflow-y: auto
	transition: left .4s, width .4s
	pointer-events: none

	&--visible
		left: 0
		pointer-events: unset

	&__container
		position: fixed
		top: 0
		left: 0
		height: 100%
		width: 100%
		background-color: #00000000
		pointer-events: none
		transition: background-color .3s
		z-index: 2

		&--visible
			pointer-events: unset
			background-color: #00000080

.form
	@include flex(column, stretch, flex-start, 4rem)
	position: relative

	&__title
		font-size: 3rem
		font-weight: 600

	&__fillIn
		@include flex(column, stretch, flex-start, 2.2rem)

		&__title
			color: $purple
			font-weight: 600

			&--gray
				color: #777f98
				font-size: 2.6rem

		&__list
			@include flex(column, stretch, flex-start, 2.8rem)

		&__grid
			display: grid
			gap: 2.2rem .8rem
			font-weight: 300

			&--billFrom
				grid-template-areas: "streetAddress streetAddress" "country city" "postCode postCode"

			&--billTo
				grid-template-areas: "clientName clientName" "clientEmail clientEmail" "clientStreetAddress clientStreetAddress" "clientCity clientPostCode" "clientCountry clientCountry" "paymentTerms paymentTerms" "description description"

			&--itemList
				grid-template-columns: repeat(4, 1fr)
				grid-template-areas: "itemName itemName itemName itemName" "quantity price total total"
				gap: 1.6rem

	&__addItem
		@include button(1.6rem, var(--cardBg))

	&__buttons
		@include flex(row, center, flex-end, .8rem)
		background-color: var(--formBtns)
		position: absolute
		left: -2.4rem
		width: calc( 100% + 4.8rem )
		bottom: -12.8rem
		padding: 1.8rem

		&__submit
			@include button(1.6rem, $lightPurple)
			color: #fff

		&__discard
			@include button(1.6rem, #373b53)
			color: #fff

.label
	@include flex(column, stretch, flex-start, 1.2rem)
	position: relative
	min-width: 100%

	&__select
		@include flex(row, center, space-between, unset)

	&__dropdown
		border-radius: .5rem
		position: absolute
		width: 100%
		top: calc( 100% + 1rem )
		z-index: 2
		cursor: pointer
		box-shadow: 0 10px 10px -10px #00001060

		&__item
			font-weight: 600
			background-color: var(--cardBg)
			padding: 1.2em

			&:hover
				color: $purple

	&__input
		background-color: var(--cardBg)
		height: 4.8rem
		padding: 0 1.2em
		border-radius: .5rem
		border: 1px solid transparent
		transition: border-color .5s
		font-weight: 600

		&--error
			animation: errorBorder 3s ease-out

		&__arrow
			position: absolute
			right: 2rem

		&--select
			min-width: 100%
			user-select: none
			cursor: pointer

		&:focus
			border-color: $purple

	&--total &__input
		background-color: unset
		padding: 0

		&:focus
			border-color: transparent

	&__error
		color: #ec5757
		font-size: 1.4rem
		font-weight: 500
		position: absolute
		right: 1rem
		bottom: .8rem
		animation: error 3s ease-out forwards

@media (width >= 48rem)
	.card
		display: grid
		justify-content: stretch
		grid-template-columns: repeat(5, 1fr)
		align-items: center
		grid-template-areas: "id dueDate clientName price status"

		&__container
			@include flex(row, center, space-between, 1rem)

		&__clientName
			text-align: left

	.modal
		width: 60rem

	.form__fillIn__grid
		&--billFrom
			grid-template-areas: "streetAddress streetAddress streetAddress" "country city postCode"

		&--billTo
			grid-template-areas: "clientName clientName clientName" "clientEmail clientEmail clientEmail" "clientStreetAddress clientStreetAddress clientStreetAddress" "clientCity clientPostCode clientCountry" "paymentTerms paymentTerms paymentTerms" "description description description"

		&--itemList
			grid-template-columns: repeat(8, 1fr)
			grid-template-areas: "itemName itemName itemName quantity price price total total"

	.label
		&--quantity

		&--quantity &__input
			text-align: center
			padding: 0

	.invoice
		&__body
			gap: 8rem

		&__clientInfo
			justify-content: stretch
			grid-template-areas: "id id billFrom billFrom" "id id billFrom billFrom" "dateCreated billTo email email" "dueDate billTo email email"
			gap: 3.2rem 4.4rem

		&__billFrom
			justify-self: flex-end

		&__clientEmail
			justify-self: center

@media (width >= 72rem)
	.app
		grid-template-rows: unset
		grid-template-columns: 9.8rem 1fr

	.header
		@include flex(column, stretch, space-between, 1rem)
		border-radius: 0 2rem 2rem 0

	.board
		padding: 6.4rem 3.2rem
		gap: 5rem

		&__title
			font-size: 4rem

		&__subtitle
			font-size: 2rem

		&__filter
			font-size: 1.8rem

	.modal
		width: 70rem
		top: 0
		height: 100%

		&--visible
			left: 9.8rem

		&__container
			top: 0
			height: 100%
